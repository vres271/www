<div class="host-container">
  <h1>üé¨ –≠–∫—Ä–∞–Ω –≤–µ–¥—É—â–µ–≥–æ</h1>

  <div class="host-layout">
    <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
    <div class="control-section">
      <div class="current-player-box card">
        <h3>üë§ –¢–µ–∫—É—â–∏–π –∏–≥—Ä–æ–∫</h3>
        <div *ngIf="currentPlayer" class="player-info">
          <p class="player-name">{{ currentPlayer.name }}</p>
          <p class="player-city">{{ currentPlayer.city }}</p>
          <p class="player-questions">–û—Å—Ç–∞–ª–æ—Å—å –≤–æ–ø—Ä–æ—Å–æ–≤: {{ currentPlayer.questionCount }}</p>
        </div>
        <div *ngIf="!currentPlayer" class="no-selection">
          <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –≤—Ä–∞—â–µ–Ω–∏—è</p>
        </div>
        <button class="btn btn-secondary btn-sm" (click)="clearCurrentPlayer()">–°–±—Ä–æ—Å–∏—Ç—å</button>
      </div>

      <!-- –ö–Ω–æ–ø–∫–∞ –≤—Ä–∞—â–µ–Ω–∏—è -->
      <button class="btn btn-primary btn-spin" 
              (click)="spinWheel()" 
              [disabled]="activePlayerIndices.length === 0">
        üé≤ –í—Ä–∞—â–∞—Ç—å –±–∞—Ä–∞–±–∞–Ω
      </button>

      <!-- –¢–∞–π–º–µ—Ä -->
      <div class="timer-box card">
        <h3>‚è±Ô∏è –¢–∞–π–º–µ—Ä —Å–æ–≤–µ—â–∞–Ω–∏—è (60 —Å–µ–∫)</h3>
        
        <div class="timer-display" *ngIf="timerActive">
          <div class="timer-time">{{ formatTime(timerRemaining) }}</div>
          <div class="timer-bar-container">
            <div class="timer-bar" [style.width.%]="getTimerPercentage()"></div>
          </div>
        </div>

        <div class="timer-idle" *ngIf="!timerActive">
          <p>–ì–æ—Ç–æ–≤–æ –∫ —Å—Ç–∞—Ä—Ç—É</p>
        </div>

        <div class="timer-buttons">
          <button class="btn btn-primary btn-sm" 
                  (click)="startTimer()"
                  [disabled]="timerActive">
            ‚ñ∂Ô∏è –°—Ç–∞—Ä—Ç
          </button>
          <button class="btn btn-outline btn-sm" 
                  (click)="stopTimer()"
                  [disabled]="!timerActive">
            ‚èπÔ∏è –°—Ç–æ–ø
          </button>
        </div>
      </div>

      <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ -->
      <div class="active-players card">
        <h3>‚ö° –ê–∫—Ç–∏–≤–Ω—ã–µ –∏–≥—Ä–æ–∫–∏ ({{ activePlayerIndices.length }})</h3>
        <div class="player-list">
          <div *ngFor="let index of activePlayerIndices" class="player-item">
            <span class="player-name-small">{{ players[index].name }}</span>
            <span class="question-count">{{ players[index].questionCount }} –≤–æ–ø—Ä.</span>
          </div>
        </div>
        <div *ngIf="activePlayerIndices.length === 0" class="no-active">
          <p>–í—Å–µ –≤–æ–ø—Ä–æ—Å—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å!</p>
        </div>
      </div>

      <!-- –°—á—ë—Ç -->
      <div class="scores-box card">
        <h3>üìä –°—á—ë—Ç</h3>
        <div class="score-row">
          <div class="score-item knowledge">
            <p class="score-label">–ó–Ω–∞—Ç–æ–∫–∏ üß†</p>
            <p class="score-value">{{ knowledgeScore }}</p>
            <button class="btn btn-primary btn-sm" (click)="addKnowledgeScore(-1)">-1</button>
            <button class="btn btn-primary btn-sm" (click)="addKnowledgeScore(1)">+1</button>
          </div>
          <div class="score-item viewer">
            <p class="score-label">–¢–µ–ª–µ–∑—Ä–∏—Ç–µ–ª–∏ üì∫</p>
            <p class="score-value">{{ viewerScore }}</p>
            <button class="btn btn-primary btn-sm" (click)="addViewerScore(-1)">-1</button>
            <button class="btn btn-primary btn-sm" (click)="addViewerScore(1)">+1</button>
          </div>
        </div>
        <button class="btn btn-outline btn-sm" (click)="resetScores()">–°–±—Ä–æ—Å–∏—Ç—å</button>
      </div>
    </div>

    <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å: –∑–≤—É–∫–∏ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <div class="right-section">
      <!-- –ó–≤—É–∫–∏ -->
      <div class="sounds-section card">
        <h3>üîä –ó–≤—É–∫–∏</h3>
        <div class="sounds-grid">
          <button *ngFor="let track of soundTracks"
                  class="sound-btn"
                  [class.playing]="isSoundPlaying(track.key)"
                  (click)="toggleSound(track.key)"
                  title="–ù–∞–∂–º–∏ —á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å">
            {{ track.label }}
          </button>
        </div>
      </div>

      <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
      <div class="info-section card">
        <h3>‚ÑπÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h3>
        <ol>
          <li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∏–≥—Ä–æ–∫–∏ –¥–æ–±–∞–≤–∏–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö</li>
          <li>–û—Ç–∫—Ä–æ–π—Ç–µ "–≠–∫—Ä–∞–Ω –∏–≥—Ä–æ–∫–æ–≤" –Ω–∞ –≤—Ç–æ—Ä–æ–º –º–æ–Ω–∏—Ç–æ—Ä–µ</li>
          <li>–ù–∞–∂–º–∏—Ç–µ "–í—Ä–∞—â–∞—Ç—å –±–∞—Ä–∞–±–∞–Ω"</li>
          <li>–ù–∞ —ç–∫—Ä–∞–Ω–µ –∏–≥—Ä–æ–∫–æ–≤ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω–æ —Ñ–æ—Ç–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞</li>
          <li>–í—ã–±—Ä–∞–Ω–Ω—ã–π –∏–≥—Ä–æ–∫ –∑–∞–¥–∞—ë—Ç –≤–æ–ø—Ä–æ—Å</li>
          <li>–ù–∞–∂–º–∏—Ç–µ "–°—Ç–∞—Ä—Ç" –¥–ª—è —Ç–∞–π–º–µ—Ä–∞ —Å–æ–≤–µ—â–∞–Ω–∏—è (60 —Å–µ–∫—É–Ω–¥)</li>
          <li>–ù–∞ —ç–∫—Ä–∞–Ω–µ –∏–≥—Ä–æ–∫–æ–≤ –±—É–¥–µ—Ç –≤–∏–¥–Ω–∞ —à–∫–∞–ª–∞ –≤—Ä–µ–º–µ–Ω–∏</li>
          <li>–û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–æ–≤–µ—â–∞—é—Ç—Å—è –∏ –¥–∞—é—Ç –æ—Ç–≤–µ—Ç</li>
          <li>–ï—Å–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ - –æ—á–∫–æ –∑–Ω–∞—Ç–æ–∫–∞–º, –µ—Å–ª–∏ –Ω–µ—Ç - —Ç–µ–ª–µ–∑—Ä–∏—Ç–µ–ª—è–º</li>
        </ol>
      </div>
    </div>
  </div>
</div>
